<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}"></html>

<div layout:fragment="content">
     <div class="page-communitywrite">
            <div class="write-form-container">
                <h2 style="font-size: 24px; font-weight: 700; text-align: center; margin-bottom: 30px;">게시글 작성</h2>
                <form id="write-post-form">
				  <div class="form-group">
				    <label for="disaster-type">재난 유형 <span style="color: var(--main-red);">*</span></label>
				    <select id="disaster-type" name="disaster_type" required>
				      <option value="">선택하세요</option>
				      <option value="EARTHQUAKE">지진</option>
				      <option value="TSUNAMI">쓰나미</option>
				      <option value="TYPHOON">태풍</option>
				      <option value="FLOOD">호우/홍수</option>
				      <option value="VOLCANO">화산</option>
				      <option value="FIRE">화재</option>
				      <option value="LANDSLIDE">산사태</option>
				      <option value="OTHER">기타</option>
				    </select>
				  </div>
				
				  <div class="form-group">
				    <label for="post-title">제목 <span style="color: var(--main-red);">*</span></label>
				    <input type="text" id="post-title" name="title" required placeholder="제목을 입력하세요">
				  </div>
				
				  <div class="form-group">
				    <label for="post-content">내용 <span style="color: var(--main-red);">*</span></label>
				    <textarea id="post-content" name="body" required></textarea>
				  </div>
				
				  <div class="form-group">
				    <label>위치 정보 (선택 사항)</label>
				    <div class="location-map-placeholder">
				      <h4>🗺️ 지도에서 위치 선택</h4>
				      <p>클릭하여 현재 위치 또는 특정 위치를 지도에 표시할 수 있습니다.</p>
				    </div>
				    <!-- 지도에서 좌표 선택 시 여기에 값이 들어가도록 hidden input 추가 -->
				    <input type="hidden" id="lat" name="lat">
				    <input type="hidden" id="lon" name="lon">
				  </div>
				
				  <div class="submit-btn-container">
				    <button type="submit" class="submit-btn">작성하기</button>
				  </div>
				</form>

            </div>
        </div> 
</div>
<script th:fragment="script">
  $(document).ready(function () {
    $('#post-content').summernote({
      height: 300,
      placeholder: '내용을 입력하세요',
      toolbar: [
        ['style', ['bold', 'italic', 'underline']],
        ['insert', ['link', 'picture', 'video']], // 이미지 버튼
        ['view', ['fullscreen', 'codeview']]
      ]
    });
  });
</script>
